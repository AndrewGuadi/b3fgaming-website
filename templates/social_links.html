<!-- templates/social_links.html -->

{% extends "base.html" %}
{% block title %}Social Links{% endblock %}

{% block content %}
<div class="social-links-page text-center">
    <div class="profile-section mb-5">
        <img src="{{ url_for('static', filename='images/profile.png') }}" class="rounded-circle profile-image" alt="Profile Picture">
        <h2>GamerTag#1234</h2>
        <p>Your tagline or bio goes here.</p>
    </div>

    <div class="links-section">
        <div class="container">
            {% for link in social_links %}
                <div class="link-container mb-3">
                    {% if link.platform_id %}
                        <a href="{{ link.url }}" target="_blank" class="btn btn-outline-primary btn-block">
                            <i class="{{ link.platform_obj.icon_class }}"></i> {{ link.platform_obj.name }}
                        </a>
                    {% else %}
                        <a href="{{ link.url }}" target="_blank" class="btn btn-outline-secondary btn-block">
                            <i class="fas fa-link"></i> {{ link.platform_custom }}
                        </a>
                    {% endif %}
                    <button class="btn btn-sm btn-secondary share-btn" data-link="{{ link.url }}">
                        Share
                    </button>
                </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}

{% block head %}
<!-- Font Awesome for Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
{% endblock %}

{% block scripts %}
<script>
    document.querySelectorAll('.share-btn').forEach(button => {
        button.addEventListener('click', () => {
            const link = button.getAttribute('data-link');
            navigator.clipboard.writeText(link).then(() => {
                alert('Link copied to clipboard!');
            }).catch(err => {
                alert('Failed to copy the link.');
            });
        });
    });
</script>
{% endblock %}
